<script>
window.onload = function(){
    // 일정 정보
    const event = {
      title: "🎊축 결혼🎊",
      description: "심형래❤김수지",
      location: "더채플앳청담",
      startDate: "2024-08-10T14:30:00",
      endDate: "2024-08-10T16:00:00",
    };

    // iCalendar 파일 내용 생성
    const icsContent = `BEGIN:VCALENDAR
                        VERSION:2.0
                        PRODID:-//Your Organization//NONSGML v1.0//EN
                        BEGIN:VEVENT
                        UID:${new Date().toISOString()}
                        DTSTAMP:${new Date().toISOString().replace(/[-:]/g, "").split(".")[0]}
                        DTSTART:${event.startDate.replace(/[-:]/g, "").split(".")[0]}
                        DTEND:${event.endDate.replace(/[-:]/g, "").split(".")[0]}
                        SUMMARY:${event.title}
                        DESCRIPTION:${event.description}
                        LOCATION:${event.location}
                        END:VEVENT
                        END:VCALENDAR`;

    // Blob으로 변환
    const blob = new Blob([icsContent], { type: "text/calendar" });
    const url = URL.createObjectURL(blob);

    // 다운로드 링크 생성 및 클릭
    const a = document.createElement("a");
    a.href = url;
    a.download = "심형래♥김수지 결혼식 캘린더에 추가.ics";
    a.target = "_blank";
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
}

</script>
